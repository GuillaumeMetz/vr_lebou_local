<html lang="fr">
    <head>
        <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.misc.min.js"></script>
        <script src="https://unpkg.com/super-hands@^3.0.3/dist/super-hands.min.js"></script>
        <script src="https://unpkg.com/aframe-event-set-component@^4.1.1/dist/aframe-event-set-component.min.js"></script>
        <title>Visite Virtuelle IUT Mulhouse</title>
    </head>
    <body>
        <a-scene id="scene" visible="true">

            <!-- The assets -->
            <a-assets>
                <!-- The imgs assets -->
                <img id="lobbyBG" src="assets/scenes/1_lobby.jpg" />
                <img id="buBG" src="assets/scenes/2_bu.jpg" />
                <img id="ruBG" src="assets/scenes/3_ru.jpg" />
                <img id="irimasBG" src="assets/scenes/4_irimas.jpg" />
                <img id="amphiNordBG" src="assets/scenes/5_amphi_nord.jpg" />
                <img id="fabLabBG" src="assets/scenes/7_fablab.jpg" />
                <img id="fondVertBG" src="assets/scenes/8_fond_vert.jpg" />
                <img id="macBG" src="assets/scenes/6_mac.jpg" />
                <img id="lpmtBG" src="assets/scenes/9_lpmt.jpg" />
                <img id="pauseBG" src="assets/scenes/10_pause.jpg" />
                <img id="sgmBG" src="assets/scenes/11_sgm.jpg" />

                <!-- The 3D models assets -->
                <a-asset-item id="bu" src="assets/models/bu.glb"></a-asset-item>
                <a-asset-item id="ru" src="assets/models/ru.glb"></a-asset-item>
                <a-asset-item
                    id="irimas"
                    src="assets/models/irimas.glb"
                ></a-asset-item>
                <a-asset-item
                    id="amphiNord"
                    src="assets/models/amphi_nord.glb"
                ></a-asset-item>
                <a-asset-item
                    id="fabLab"
                    src="assets/models/fab_lab.glb"
                ></a-asset-item>
                <a-asset-item
                    id="fondVert"
                    src="assets/models/green_room.glb"
                ></a-asset-item>
                <a-asset-item
                    id="mac"
                    src="assets/models/mac_room.glb"
                ></a-asset-item>
                <a-asset-item
                    id="lpmt"
                    src="assets/models/lpmt.glb"
                ></a-asset-item>
                <a-asset-item
                    id="pause"
                    src="assets/models/pause_room.glb"
                ></a-asset-item>
                <a-asset-item
                    id="sgm"
                    src="assets/models/sgm.glb"
                ></a-asset-item>
                <a-asset-item
                    id="arrow"
                    src="assets/models/arrow.glb"
                ></a-asset-item>
            </a-assets>

            <!-- Skybox -->
            <a-sky src="#lobbyBG" id="skyboxbg"></a-sky>

            <!-- VR interaction -->
            <a-entity sphere-collider="objects: a-box" mixin="physics-hands" super-hands hand-controls="hand: left"></a-entity>
            <a-entity sphere-collider="objects: a-box" mixin="physics-hands" super-hands hand-controls="hand: right"></a-entity>

            <!-- Camera -->
            <a-entity camera wasd-controls position="0 1 1"
                      capture-mouse
                      raycaster cursor="rayOrigin:mouse"
                      body="type: static; shape: sphere; sphereRadius: 0.001"
                      super-hands="colliderEvent: raycaster-intersection;
                             colliderEventProperty: els;
                             colliderEndEvent:raycaster-intersection-cleared;
                             colliderEndEventProperty: clearedEls;">
            </a-entity>

            <!-- The items in the lobby -->
            <a-entity
                    gltf-model="#bu"
                    id="bu"
                    class="item"
                    position="-0.84492 0.5 0" scale="0.001 0.001 0.001" rotation="0 100 0"
                    event-set__click="_target: #skyboxbg; src: #buBG"
            ></a-entity>
            <a-entity
                gltf-model="#ru"
                id="ru"
                class="item"
                position="-0.6 0.5 -0.6" scale="0.5 0.5 0.5" rotation="0 45 0"
            ></a-entity>
            <a-entity
                id="irimas"
                gltf-model="#irimas"
                class="item"
                position="0.65 0.5 -0.46" scale="0.05 0.05 0.05" rotation="0 45 0"
            ></a-entity>
            <a-entity
                id="amphiNord"
                gltf-model="#amphiNord"
                class="item"
                position="-0.6 0.5 0.8" scale="1 1 1" rotation="0 -45 0"
            ></a-entity>
            <a-entity
                id="fabLab"
                gltf-model="#fabLab"
                class="item"
                position="0 0.5 0.9" scale="0.02 0.02 0.02" rotation="90 0 0"
            ></a-entity>
            <a-entity
                id="fondVert"
                gltf-model="#fondVert"
                class="item"
                position="0.8 0.5 1.4" scale="0.05 0.05 0.05" rotation="0 -55 0"
            ></a-entity>
            <a-entity
                id="mac"
                gltf-model="#mac"
                class="item"
                position="0.7 0.5 0.5" scale="0.003 0.003 0.003" rotation="0 160 0"
            ></a-entity>
            <a-entity
                id="lpmt"
                gltf-model="#lpmt"
                class="item"
                position="-4.5 0.5 0.7" scale="0.4 0.4 0.4" rotation="0 45 0"
            ></a-entity>
            <a-entity
                id="pause"
                gltf-model="#pause"
                class="item"
                position="-0.8 -3.5 -0.19" scale="2 2 2" rotation="0 45 0"
            ></a-entity>
            <a-entity
                id="sgm"
                gltf-model="#sgm"
                class="item"
                position="0.2 0.7 -0.6" scale="0.05 0.05 0.05" rotation="0 45 0"
            ></a-entity>

            <!-- Go back to lobby -->
            <a-entity
                    id="backButton"
                    gltf-model="#arrow"
                    class="arrow"
                    position="-0.5 -0.2 0" scale="0.4 0.4 0.4" rotation="-90 0 0" visible="false"
            ></a-entity>
        </a-scene>
        <script src="js"></script>
    </body>
</html>
